{% load navigation %}

<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu"
              aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
      </button>
      <a class="navbar-brand" href="{% url 'home' %}">Copernicus In Situ Database</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu">
      {% if request.user.is_authenticated %}
        <ul class="nav navbar-nav">
          {% url 'product:list' as products_list %}
          <li class="{% active products_list %}">
            <a href="{{ products_list }}">Products</a>
          </li>

          {% url 'requirement:list' as requirements_list %}
          <li class="{% active requirements_list %}">
            <a href="{{ requirements_list }}">Requirements</a>
          </li>

          {% url 'data:list' as data_list %}
          <li class="{% active data_list %}">
            <a href="{{ data_list }}">Data</a>
          </li>

          {% url 'responsible:list' as responsible_list %}
          <li class="{% active responsible_list %}">
            <a href="{{ responsible_list }}">Data responsibles</a>
          </li>

          {% if request.user.is_superuser %}
            {% url 'picklists' as picklists %}
            <li class="{% active picklists %}">
              <a href="{{ picklists }}">Manage picklists</a>
            </li>
          {% endif %}
        </ul>
      {% endif %}
      <ul class="pull-right nav navbar-nav">
        {% if user.is_superuser %}
          {% url 'admin:index' as admin %}
          <li class="{% active admin %}">
            <a href="{{ admin }}">Administration</a>
          </li>
        {% endif %}
        {% if user.is_authenticated %}
          {% url 'auth:logout' as logout %}
          <li>
            <a>Hello, {{ user.username }}</a>
          </li>
          <li class="{% active logout %}">
            <a href="{{ logout }}">Logout</a>
          </li>
        {% else %}
          {% url 'auth:login' as login %}
          <li class="{% active login %}">
            <a href="{{ login }}">Login</a>
          </li>
        {% endif %}
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
